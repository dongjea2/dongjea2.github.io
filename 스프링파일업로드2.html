<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>스프링 Client 파일 업로드(2)</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <!--custom.css-->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />
    <!--syntax.css 추가-->
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />


    <!--웹폰트-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">
    <link href="http://cdn.jsdelivr.net/gh/joungkyun/font-d2coding/d2coding.css" rel="stylesheet" type="text/css">
    <!--어썸폰트-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/7894fe677d.js" crossorigin="anonymous"></script>

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="기술 , 서평 etc." />
    <link rel="shortcut icon" href="https://dongjea2.github.io/assets/built/images/favicon.png" type="image/png" />
    <link rel="canonical" href="https://dongjea2.github.io/%EC%8A%A4%ED%94%84%EB%A7%81%ED%8C%8C%EC%9D%BC%EC%97%85%EB%A1%9C%EB%93%9C2" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="Lv0부터 시작하는 코딩생활" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="스프링 Client 파일 업로드(2)" />
    <meta property="og:description" content="스프링 목록 Spring(1) - 백엔드 초기설정 Spring(2) -스프링 Client 파일 업로드(1) Spring(3) -스프링 Client 파일 업로드(2) 이번에 해야할것 섬네일 생성 생성된 섬네일 게시글 클릭시 보여주기 올린 파일도 추가로 게시글 클릭시 보여주고, 받을수 있게 설정하기 1. pom.xml파일에 라이브러리 추가 &lt;!-- 파일관련 / 썸네일라이브러리 --&gt; &lt;!-- https://mvnrepository.com/artifact/net.coobird/thumbnailator --&gt; &lt;dependency&gt; &lt;groupId&gt;net.coobird&lt;/groupId&gt; &lt;artifactId&gt;thumbnailator&lt;/artifactId&gt; &lt;version&gt;0.4.14&lt;/version&gt;" />
    <meta property="og:url" content="https://dongjea2.github.io/%EC%8A%A4%ED%94%84%EB%A7%81%ED%8C%8C%EC%9D%BC%EC%97%85%EB%A1%9C%EB%93%9C2" />
    <meta property="og:image" content="https://dongjea2.github.io/assets/built/images/spring.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2022-01-14T11:01:00+09:00" />
    <meta property="article:modified_time" content="2022-01-14T11:01:00+09:00" />
    <meta property="article:tag" content="Spring" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="스프링 Client 파일 업로드(2)" />
    <meta name="twitter:description" content="스프링 목록 Spring(1) - 백엔드 초기설정 Spring(2) -스프링 Client 파일 업로드(1) Spring(3) -스프링 Client 파일 업로드(2) 이번에 해야할것 섬네일 생성 생성된 섬네일 게시글 클릭시 보여주기 올린 파일도 추가로 게시글 클릭시 보여주고, 받을수 있게 설정하기 1. pom.xml파일에 라이브러리 추가 &lt;!-- 파일관련 / 썸네일라이브러리 --&gt; &lt;!-- https://mvnrepository.com/artifact/net.coobird/thumbnailator --&gt; &lt;dependency&gt; &lt;groupId&gt;net.coobird&lt;/groupId&gt; &lt;artifactId&gt;thumbnailator&lt;/artifactId&gt; &lt;version&gt;0.4.14&lt;/version&gt;" />
    <meta name="twitter:url" content="https://dongjea2.github.io/" />
    <meta name="twitter:image" content="https://dongjea2.github.io/assets/built/images/spring.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Lv0부터 시작하는 코딩생활" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Spring" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "Lv0부터 시작하는 코딩생활",
        "logo": "https://dongjea2.github.io/"
    },
    "url": "https://dongjea2.github.io/%EC%8A%A4%ED%94%84%EB%A7%81%ED%8C%8C%EC%9D%BC%EC%97%85%EB%A1%9C%EB%93%9C2",
    "image": {
        "@type": "ImageObject",
        "url": "https://dongjea2.github.io/assets/built/images/spring.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://dongjea2.github.io/%EC%8A%A4%ED%94%84%EB%A7%81%ED%8C%8C%EC%9D%BC%EC%97%85%EB%A1%9C%EB%93%9C2"
    },
    "description": "스프링 목록 Spring(1) - 백엔드 초기설정 Spring(2) -스프링 Client 파일 업로드(1) Spring(3) -스프링 Client 파일 업로드(2) 이번에 해야할것 섬네일 생성 생성된 섬네일 게시글 클릭시 보여주기 올린 파일도 추가로 게시글 클릭시 보여주고, 받을수 있게 설정하기 1. pom.xml파일에 라이브러리 추가 &lt;!-- 파일관련 / 썸네일라이브러리 --&gt; &lt;!-- https://mvnrepository.com/artifact/net.coobird/thumbnailator --&gt; &lt;dependency&gt; &lt;groupId&gt;net.coobird&lt;/groupId&gt; &lt;artifactId&gt;thumbnailator&lt;/artifactId&gt; &lt;version&gt;0.4.14&lt;/version&gt;"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="스프링 Client 파일 업로드(2)" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://dongjea2.github.io/">Lv0부터 시작하는 코딩생활</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-jekyll" role="menuitem"><a href="/tag/design-patterns/">디자인 패턴</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/spring/">스프링</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/book/">서평</a></li>
    <li class="nav-archive" role="menuitem">
        <a href="/archive.html">All Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">Tag별 Posts</a>
    </li>
</ul>
        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Subscribe</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-spring post ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="14 January 2022">14 January 2022</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/spring/'>SPRING</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">스프링 Client 파일 업로드(2)</h1>
            </header>

            <!--
            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/spring.jpg)">
            </figure>
            
            -->

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    
<p><span class="table-of-contents-list">스프링 목록 </span></p>
<ul class="table-of-contents-list">
    <li><a href="./백엔드초기설정">Spring(1) - 백엔드 초기설정</a></li>
    <li><a href="./스프링파일업로드1">Spring(2) -스프링 Client 파일 업로드(1)</a></li>
    <li><a href="./스프링파일업로드2">Spring(3) -스프링 Client 파일 업로드(2)</a></li>
</ul>

<p><br /></p>

<h2 id="이번에-해야할것">이번에 해야할것</h2>
<blockquote>
  <ul>
    <li>섬네일 생성</li>
    <li>생성된 섬네일 게시글 클릭시 보여주기</li>
    <li>올린 파일도 추가로 게시글 클릭시 보여주고, 받을수 있게 설정하기</li>
  </ul>
</blockquote>

<p><br /></p>

<h1 id="1-pomxml파일에-라이브러리-추가">1. pom.xml파일에 라이브러리 추가</h1>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- 파일관련 / 썸네일라이브러리 --&gt;</span>
<span class="c">&lt;!-- https://mvnrepository.com/artifact/net.coobird/thumbnailator --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>net.coobird<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>thumbnailator<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>0.4.14<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<h3><a href="https://github.com/coobird/thumbnailator">What is Thumbnailator?</a>(링크)</h3>
<p><br /></p>

<p>섬네일레이터는 Java용 섬네일 생성 라이브러리입니다.</p>

<p>축소판 그림 제작기를 사용해야 하는 이유
Java에서 고품질 미리 보기를 만드는 것은 상당히 어려운 작업일 수 있습니다.</p>

<p>Image I/O API, Java 2D API, 이미지 처리, 이미지 스케일링 기술 사용 방법 학습, …하지만 걱정하지 마십시오! 섬네일레이터가 이 모든 것을 해결해 줄 것입니다!</p>

<p>섬네일레이터는 외부 라이브러리에 종속되지 않는 단일 JAR 파일로 개발 및 배포가 쉽고 간단합니다. 메이븐 프로젝트에 쉽게 포함시킬 수 있도록 메이븐 중앙 저장소에서도 사용할 수 있다.</p>

<h1 id="2-controller에-썸네일-처리-코드-추가">2. Controller에 썸네일 처리 코드 추가</h1>
<p><br /></p>

<blockquote>
  <h3 id="attention--기존-리턴문-주석처리하기">Attention : 기존 리턴문 주석처리하기!</h3>
</blockquote>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"board/write"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;?&gt;</span> <span class="n">write</span><span class="o">(</span><span class="nd">@RequestPart</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"letterFiles"</span><span class="o">)</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">MultipartFile</span><span class="o">&gt;</span> <span class="n">paramLetterFiles</span><span class="o">,</span>
								   <span class="nd">@RequestPart</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"imageFile"</span><span class="o">)</span> <span class="nc">MultipartFile</span> <span class="n">paramImageFile</span><span class="o">,</span> 
								   <span class="nc">RepBoard</span> <span class="n">repBoard</span><span class="o">)</span> <span class="o">{</span>

		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"요청전달데이터 title="</span> <span class="o">+</span> <span class="n">repBoard</span><span class="o">.</span><span class="na">getBoardTitle</span><span class="o">()</span> <span class="o">+</span> <span class="s">", content="</span> <span class="o">+</span> <span class="n">repBoard</span><span class="o">.</span><span class="na">getBoardContent</span><span class="o">());</span>
		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"letterFiles.size()="</span> <span class="o">+</span> <span class="n">paramLetterFiles</span><span class="o">.</span><span class="na">size</span><span class="o">());</span>
		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"imageFile.getSize()="</span> <span class="o">+</span> <span class="n">paramImageFile</span><span class="o">.</span><span class="na">getSize</span><span class="o">());</span>
		<span class="c1">// 임시유저</span>
		<span class="nc">Customer</span> <span class="n">testUser</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Customer</span><span class="o">();</span>
		<span class="n">testUser</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="s">"id1"</span><span class="o">);</span>
		<span class="n">testUser</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"김치"</span><span class="o">);</span>

		<span class="c1">// 파일 경로생성</span>
		<span class="k">if</span> <span class="o">(!</span><span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">saveDirectory</span><span class="o">).</span><span class="na">exists</span><span class="o">())</span> <span class="o">{</span>
			<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"업로드 실제경로생성"</span><span class="o">);</span>
			<span class="k">new</span> <span class="nf">File</span><span class="o">(</span><span class="n">saveDirectory</span><span class="o">).</span><span class="na">mkdirs</span><span class="o">();</span>
		<span class="o">}</span>		


                <span class="c1">//전 글에서 보고 구현되어있어야함</span>
		<span class="c1">// 1.Add DATABASE              //</span>
		<span class="c1">// 2.Save List&lt;letter&gt; File     //</span>
		<span class="c1">// 3. Save image FiLe          //</span>
                <span class="c1">/////////////////////////////////</span>



        <span class="c1">// 4. Save Thumbnail imageFile</span>
        <span class="c1">//Code~</span>

        <span class="c1">// 5. 이미지 썸네일 프론트로 업로드 하기</span>
        <span class="c1">//Code~</span>


		<span class="c1">//아래 예시 코드 보고 주석칸에 코드 채워넣기</span>


		<span class="c1">//RETURN 주석처리 하기</span>
		<span class="c1">//return new ResponseEntity(HttpStatus.OK);</span>
	<span class="o">}</span>
</code></pre></div></div>

<p><br /><br /><br /></p>

<blockquote>
  <h3 id="4-썸네일-이미지-저장하기">4) 썸네일 이미지 저장하기<br /></h3>
  <ul>
    <li>isSaveImageFileComplete 라는 boolean 값은 <br />
  //3. Save image FiLe 코드에 있음</li>
  </ul>

  <p>이미지 저장이 성공되야, 썸네일을 만들수있기 때문에 true일경우 썸네일 생성</p>
</blockquote>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="c1">// 4. Save Thumbnail imageFile</span>
		<span class="nc">String</span> <span class="n">thumbnailName</span> <span class="o">=</span> <span class="s">"s_"</span> <span class="o">+</span> <span class="n">repBoard</span><span class="o">.</span><span class="na">getBoardNo</span><span class="o">()</span> <span class="o">+</span> <span class="n">paramImageFile</span><span class="o">.</span><span class="na">getOriginalFilename</span><span class="o">();</span> <span class="c1">// 섬네일 파일명은</span>
		<span class="nc">File</span> <span class="n">thumbnailFile</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">saveDirectory</span><span class="o">,</span> <span class="n">thumbnailName</span><span class="o">);</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="c1">//이미지 파일이 있어야 썸네일 생성가능</span>
			<span class="k">if</span><span class="o">(!</span><span class="n">isSavedImageFileComplete</span><span class="o">)</span> <span class="o">{</span><span class="k">throw</span> <span class="k">new</span> <span class="nc">IOException</span><span class="o">();}</span>

			<span class="nc">FileOutputStream</span> <span class="n">thumbnailOS</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FileOutputStream</span><span class="o">(</span><span class="n">thumbnailFile</span><span class="o">);</span>
			<span class="nc">InputStream</span> <span class="n">imageFileIS</span> <span class="o">=</span> <span class="n">paramImageFile</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
			<span class="nc">Thumbnailator</span><span class="o">.</span><span class="na">createThumbnail</span><span class="o">(</span><span class="n">imageFileIS</span><span class="o">,</span> <span class="n">thumbnailOS</span><span class="o">,</span> <span class="n">s_width</span><span class="o">,</span> <span class="n">s_height</span><span class="o">);</span>
			<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"섬네일파일 저장:"</span> <span class="o">+</span> <span class="n">thumbnailFile</span><span class="o">.</span><span class="na">getAbsolutePath</span><span class="o">()</span> <span class="o">+</span> <span class="s">", 섬네일파일 크기:"</span> <span class="o">+</span> <span class="n">thumbnailFile</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
			<span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="nc">HttpStatus</span><span class="o">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="o">);</span>
		<span class="o">}</span>
</code></pre></div></div>
<p><br /><br /><br /></p>

<blockquote>
  <h3 id="5-썸네일-프론트로-다시-전송해주기">5) 썸네일 프론트로 다시 전송해주기</h3>
</blockquote>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="c1">//5. 이미지 썸네일 프론트로 다시 전송해주기</span>
		<span class="nc">HttpHeaders</span> <span class="n">responseHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HttpHeaders</span><span class="o">();</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="n">responseHeaders</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="nc">HttpHeaders</span><span class="o">.</span><span class="na">CONTENT_LENGTH</span><span class="o">,</span> <span class="n">thumbnailFile</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">+</span> <span class="s">""</span><span class="o">);</span>
			<span class="n">responseHeaders</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="nc">HttpHeaders</span><span class="o">.</span><span class="na">CONTENT_TYPE</span><span class="o">,</span> <span class="nc">Files</span><span class="o">.</span><span class="na">probeContentType</span><span class="o">(</span><span class="n">thumbnailFile</span><span class="o">.</span><span class="na">toPath</span><span class="o">()));</span>
			<span class="n">responseHeaders</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="nc">HttpHeaders</span><span class="o">.</span><span class="na">CONTENT_DISPOSITION</span><span class="o">,</span> <span class="s">"inline; filename="</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span> <span class="s">"UTF-8"</span><span class="o">));</span>
			<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"섬네일파일 다운로드"</span><span class="o">);</span>
			<span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="nc">FileCopyUtils</span><span class="o">.</span><span class="na">copyToByteArray</span><span class="o">(</span><span class="n">thumbnailFile</span><span class="o">),</span> <span class="n">responseHeaders</span><span class="o">,</span> <span class="nc">HttpStatus</span><span class="o">.</span><span class="na">OK</span><span class="o">);</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
			<span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="nc">HttpStatus</span><span class="o">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="o">);</span>
		<span class="o">}</span>
</code></pre></div></div>

<p><br /><br /><br /></p>

<h1 id="완성-된-코드">완성 된 코드</h1>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c1">//멤버변수들</span>
	<span class="kd">private</span>	<span class="nc">String</span> <span class="n">saveDirectory</span> <span class="o">=</span> <span class="s">"f:\\files"</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">s_width</span><span class="o">=</span><span class="mi">100</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">s_height</span><span class="o">=</span><span class="mi">100</span><span class="o">;</span>
	<span class="nc">Logger</span> <span class="n">log</span> <span class="o">=</span> <span class="nc">Logger</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">getClass</span><span class="o">())</span>
    <span class="c1">//</span>



	<span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"board/write"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;?&gt;</span> <span class="n">write</span><span class="o">(</span><span class="nd">@RequestPart</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"letterFiles"</span><span class="o">)</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">MultipartFile</span><span class="o">&gt;</span> <span class="n">paramLetterFiles</span><span class="o">,</span>
								   <span class="nd">@RequestPart</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"imageFile"</span><span class="o">)</span> <span class="nc">MultipartFile</span> <span class="n">paramImageFile</span><span class="o">,</span> 
								   <span class="nc">RepBoard</span> <span class="n">repBoard</span><span class="o">)</span> <span class="o">{</span>

		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"요청전달데이터 title="</span> <span class="o">+</span> <span class="n">repBoard</span><span class="o">.</span><span class="na">getBoardTitle</span><span class="o">()</span> <span class="o">+</span> <span class="s">", content="</span> <span class="o">+</span> <span class="n">repBoard</span><span class="o">.</span><span class="na">getBoardContent</span><span class="o">());</span>
		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"letterFiles.size()="</span> <span class="o">+</span> <span class="n">paramLetterFiles</span><span class="o">.</span><span class="na">size</span><span class="o">());</span>
		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"imageFile.getSize()="</span> <span class="o">+</span> <span class="n">paramImageFile</span><span class="o">.</span><span class="na">getSize</span><span class="o">());</span>
		<span class="c1">// 임시유저</span>
		<span class="nc">Customer</span> <span class="n">testUser</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Customer</span><span class="o">();</span>
		<span class="n">testUser</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="s">"id1"</span><span class="o">);</span>
		<span class="n">testUser</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"김치"</span><span class="o">);</span>

		<span class="c1">// 파일 경로생성</span>
		<span class="k">if</span> <span class="o">(!</span><span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">saveDirectory</span><span class="o">).</span><span class="na">exists</span><span class="o">())</span> <span class="o">{</span>
			<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"업로드 실제경로생성"</span><span class="o">);</span>
			<span class="k">new</span> <span class="nf">File</span><span class="o">(</span><span class="n">saveDirectory</span><span class="o">).</span><span class="na">mkdirs</span><span class="o">();</span>
		<span class="o">}</span>

		
		<span class="c1">// 1. Add DATABASE</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="n">repBoard</span><span class="o">.</span><span class="na">setBoardC</span><span class="o">(</span><span class="n">testUser</span><span class="o">);</span>
			<span class="n">service</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">repBoard</span><span class="o">);</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">AddException</span> <span class="n">e1</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="nc">HttpStatus</span><span class="o">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="o">);</span>
		<span class="o">}</span>



		<span class="c1">// 2.Save List&lt;letter&gt; File</span>
		<span class="k">for</span> <span class="o">(</span><span class="nc">MultipartFile</span> <span class="n">mf</span> <span class="o">:</span> <span class="n">paramLetterFiles</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"파일크기: "</span> <span class="o">+</span> <span class="n">mf</span><span class="o">.</span><span class="na">getSize</span><span class="o">()</span> <span class="o">+</span> <span class="s">", 파일이름:"</span> <span class="o">+</span> <span class="n">mf</span><span class="o">.</span><span class="na">getOriginalFilename</span><span class="o">());</span>
			<span class="nc">String</span> <span class="n">mfFileName</span> <span class="o">=</span> <span class="n">repBoard</span><span class="o">.</span><span class="na">getBoardNo</span><span class="o">()</span> <span class="o">+</span> <span class="s">"_letter_"</span> <span class="o">+</span> <span class="no">UUID</span><span class="o">.</span><span class="na">randomUUID</span><span class="o">()</span> <span class="o">+</span> <span class="s">"_"</span> <span class="o">+</span> <span class="n">mf</span><span class="o">.</span><span class="na">getOriginalFilename</span><span class="o">();</span>

			<span class="k">try</span> <span class="o">{</span>
				<span class="nc">FileCopyUtils</span><span class="o">.</span><span class="na">copy</span><span class="o">(</span><span class="n">mf</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(),</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">saveDirectory</span><span class="o">,</span> <span class="n">mfFileName</span><span class="o">));</span>
			<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
				<span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="nc">HttpStatus</span><span class="o">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="o">);</span>
			<span class="o">}</span>
		<span class="o">}</span>
		
		
		
		<span class="c1">// 3. Save image FiLe</span>
		<span class="kt">boolean</span> <span class="n">isSavedImageFileComplete</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
		<span class="kt">boolean</span> <span class="n">isImageFile</span> <span class="o">=</span> <span class="n">paramImageFile</span><span class="o">.</span><span class="na">getContentType</span><span class="o">().</span><span class="na">contains</span><span class="o">(</span><span class="s">"image/"</span><span class="o">);</span>

		<span class="k">if</span> <span class="o">(!</span><span class="n">isImageFile</span><span class="o">){</span> 
			<span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="nc">HttpStatus</span><span class="o">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="o">);</span>
		<span class="o">}</span>
		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"파일크기: "</span> <span class="o">+</span> <span class="n">paramImageFile</span><span class="o">.</span><span class="na">getSize</span><span class="o">()</span> <span class="o">+</span> <span class="s">", 파일이름:"</span> <span class="o">+</span> <span class="n">paramImageFile</span><span class="o">.</span><span class="na">getOriginalFilename</span><span class="o">());</span>
		<span class="nc">String</span> <span class="n">imageFileName</span> <span class="o">=</span> <span class="n">repBoard</span><span class="o">.</span><span class="na">getBoardNo</span><span class="o">()</span> <span class="o">+</span> <span class="s">"_image_"</span> <span class="o">+</span> <span class="no">UUID</span><span class="o">.</span><span class="na">randomUUID</span><span class="o">()</span> <span class="o">+</span> <span class="s">"_"</span>
				<span class="o">+</span> <span class="n">paramImageFile</span><span class="o">.</span><span class="na">getOriginalFilename</span><span class="o">();</span> <span class="c1">// 저장할 파일이름을 지정한다 ex) 글번호_image_XXXX_원본이름</span>
														<span class="c1">// ex) 0_image_ddf269da-3202-447a-a2c5-7ce395b63887_문어.png</span>

		<span class="nc">File</span> <span class="n">createdImagefile</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">saveDirectory</span><span class="o">,</span> <span class="n">imageFileName</span><span class="o">);</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="nc">FileCopyUtils</span><span class="o">.</span><span class="na">copy</span><span class="o">(</span><span class="n">paramImageFile</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(),</span> <span class="n">createdImagefile</span><span class="o">);</span>
			<span class="n">isSavedImageFileComplete</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
			<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"이미지파일 저장:"</span> <span class="o">+</span> <span class="n">createdImagefile</span><span class="o">.</span><span class="na">getAbsolutePath</span><span class="o">()</span> <span class="o">+</span> <span class="s">", 이미지파일 크기:"</span> <span class="o">+</span> <span class="n">createdImagefile</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e1</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">e1</span><span class="o">.</span><span class="na">getStackTrace</span><span class="o">();</span>
			<span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="nc">HttpStatus</span><span class="o">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="o">);</span>
		<span class="o">}</span>
		
		
		
		<span class="c1">// 4. Save Thumbnail imageFile</span>
		<span class="nc">String</span> <span class="n">thumbnailName</span> <span class="o">=</span> <span class="s">"s_"</span> <span class="o">+</span> <span class="n">repBoard</span><span class="o">.</span><span class="na">getBoardNo</span><span class="o">()</span> <span class="o">+</span> <span class="n">paramImageFile</span><span class="o">.</span><span class="na">getOriginalFilename</span><span class="o">();</span> <span class="c1">// 섬네일 파일명은</span>
		<span class="nc">File</span> <span class="n">thumbnailFile</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">saveDirectory</span><span class="o">,</span> <span class="n">thumbnailName</span><span class="o">);</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="c1">//이미지 파일이 있어야 썸네일 생성가능</span>
			<span class="k">if</span><span class="o">(!</span><span class="n">isSavedImageFileComplete</span><span class="o">)</span> <span class="o">{</span><span class="k">throw</span> <span class="k">new</span> <span class="nc">IOException</span><span class="o">();}</span>

			<span class="nc">FileOutputStream</span> <span class="n">thumbnailOS</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FileOutputStream</span><span class="o">(</span><span class="n">thumbnailFile</span><span class="o">);</span>
			<span class="nc">InputStream</span> <span class="n">imageFileIS</span> <span class="o">=</span> <span class="n">paramImageFile</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
			<span class="nc">Thumbnailator</span><span class="o">.</span><span class="na">createThumbnail</span><span class="o">(</span><span class="n">imageFileIS</span><span class="o">,</span> <span class="n">thumbnailOS</span><span class="o">,</span> <span class="n">s_width</span><span class="o">,</span> <span class="n">s_height</span><span class="o">);</span>
			<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"섬네일파일 저장:"</span> <span class="o">+</span> <span class="n">thumbnailFile</span><span class="o">.</span><span class="na">getAbsolutePath</span><span class="o">()</span> <span class="o">+</span> <span class="s">", 섬네일파일 크기:"</span> <span class="o">+</span> <span class="n">thumbnailFile</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
			<span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="nc">HttpStatus</span><span class="o">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="o">);</span>
		<span class="o">}</span>
		
		
		
        <span class="c1">//5. 이미지 썸네일 프론트로 다시 전송해주기</span>
		<span class="nc">HttpHeaders</span> <span class="n">responseHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HttpHeaders</span><span class="o">();</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="n">responseHeaders</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="nc">HttpHeaders</span><span class="o">.</span><span class="na">CONTENT_LENGTH</span><span class="o">,</span> <span class="n">thumbnailFile</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">+</span> <span class="s">""</span><span class="o">);</span>
			<span class="n">responseHeaders</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="nc">HttpHeaders</span><span class="o">.</span><span class="na">CONTENT_TYPE</span><span class="o">,</span> <span class="nc">Files</span><span class="o">.</span><span class="na">probeContentType</span><span class="o">(</span><span class="n">thumbnailFile</span><span class="o">.</span><span class="na">toPath</span><span class="o">()));</span>
			<span class="n">responseHeaders</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="nc">HttpHeaders</span><span class="o">.</span><span class="na">CONTENT_DISPOSITION</span><span class="o">,</span> <span class="s">"inline; filename="</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span> <span class="s">"UTF-8"</span><span class="o">));</span>
			<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"섬네일파일 다운로드"</span><span class="o">);</span>
			<span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="nc">FileCopyUtils</span><span class="o">.</span><span class="na">copyToByteArray</span><span class="o">(</span><span class="n">thumbnailFile</span><span class="o">),</span> <span class="n">responseHeaders</span><span class="o">,</span> <span class="nc">HttpStatus</span><span class="o">.</span><span class="na">OK</span><span class="o">);</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
			<span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="nc">HttpStatus</span><span class="o">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="o">);</span>
		<span class="o">}</span>



        <span class="c1">// 기존 RETURN 주석처리 하기</span>
		<span class="c1">//return new ResponseEntity(HttpStatus.OK);</span>
	<span class="o">}</span>

</code></pre></div></div>

<p><br /><br /></p>

<blockquote>
  <h3 id="섬네일-제대로-저장하고-보내는-기능-작동하는지-테스트-하기">섬네일 제대로 저장하고 보내는 기능 작동하는지 테스트 하기</h3>
</blockquote>

<p><span class="table-of-contents-list">스프링 목록 </span></p>
<ul class="table-of-contents-list">
    <li><a href="./백엔드초기설정">Spring(1) - 백엔드 초기설정</a></li>
    <li><a href="./스프링파일업로드1">Spring(2) -스프링 Client 파일 업로드(1)</a></li>
    <li><a href="./스프링파일업로드2">Spring(3) -스프링 Client 파일 업로드(2)</a></li>
</ul>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            <!--
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to Lv0부터 시작하는 코딩생활</h3>
                    <p>Get the latest posts delivered right to your inbox</p>
                    <form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit" disabled><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>

                </section>
            
            -->

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="dongjae" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/dongjae">동재</a></h4>
                                
                                    <p>Read <a href="/author/dongjae">more posts</a> by this author.</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/dongjae">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            var this_page_url = 'https://dongjea2.github.io/%EC%8A%A4%ED%94%84%EB%A7%81%ED%8C%8C%EC%9D%BC%EC%97%85%EB%A1%9C%EB%93%9C2';
                            var this_page_identifier = '/스프링파일업로드2';
                            var this_page_title = '스프링 Client 파일 업로드(2)';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://https-dongjea2-github-io.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/background-frontend.png)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; Lv0부터 시작하는 코딩생활 &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/spring/">Spring</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/%EC%8A%A4%ED%94%84%EB%A7%81%ED%8C%8C%EC%9D%BC%EC%97%85%EB%A1%9C%EB%93%9C1">스프링 Client 파일 업로드(1)</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/%EB%B0%B1%EC%97%94%EB%93%9C%EC%B4%88%EA%B8%B0%EC%84%A4%EC%A0%95">Backend 초기설정 + Mybatis</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/spring/">
                                
                                    See all 2 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/%EC%8A%A4%ED%94%84%EB%A7%81%ED%8C%8C%EC%9D%BC%EC%97%85%EB%A1%9C%EB%93%9C1">
                <div class="post-card-image" style="background-image: url(/assets/built/images/spring.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/%EC%8A%A4%ED%94%84%EB%A7%81%ED%8C%8C%EC%9D%BC%EC%97%85%EB%A1%9C%EB%93%9C1">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Spring</span>
                            
                        
                    

                    <h2 class="post-card-title">스프링 Client 파일 업로드(1)</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>스프링에서 Client의 파일을 업로드 하는 라이브러리 설정.</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="동재" />
                        
                        <span class="post-card-author">
                            <a href="/author/dongjae/">동재</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      4 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://dongjea2.github.io/">
            
            <span>Lv0부터 시작하는 코딩생활</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">스프링 Client 파일 업로드(2)</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=%EC%8A%A4%ED%94%84%EB%A7%81+Client+%ED%8C%8C%EC%9D%BC+%EC%97%85%EB%A1%9C%EB%93%9C%282%29&amp;url=https://dongjea2.github.io/%EC%8A%A4%ED%94%84%EB%A7%81%ED%8C%8C%EC%9D%BC%EC%97%85%EB%A1%9C%EB%93%9C2"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://dongjea2.github.io/%EC%8A%A4%ED%94%84%EB%A7%81%ED%8C%8C%EC%9D%BC%EC%97%85%EB%A1%9C%EB%93%9C2"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://dongjea2.github.io/">Lv0부터 시작하는 코딩생활</a> &copy; 2022</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                <h1 class="subscribe-overlay-title">Subscribe to Lv0부터 시작하는 코딩생활</h1>
                <p class="subscribe-overlay-description">Stay up to date! Get all the latest &amp; greatest posts delivered straight to your inbox</p>
                <form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit" disabled><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>

            </div>
        </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-xxxxxxxx-x', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
